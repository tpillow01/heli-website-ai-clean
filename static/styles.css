/* =========================================================
   Tynan Equipment AI â€” Right-Side Mockup (Light Workshop)
   EXACT visual: text header, tabs (Chat/Models/Map),
   Mode card, cream chat bubbles, crisp forklift animation.
   ========================================================= */

/* ---------- Design tokens ---------- */
:root{
  --page:#f6f2ea; --shell:#fffaf3; --panel:#fffdf8; --panel-2:#faf3e6;
  --ink:#1c1d22; --muted:#6b6e77; --line:#e8e0d3;
  --accent:#c92a24; --accent-2:#e8564f;

  --bubble-ai:#fff6e9; --bubble-user:#fdeee9; --input:#fffaf2;

  --r-xl:24px; --r-lg:20px; --r:16px; --r-sm:12px;

  --shadow-lg:0 22px 50px rgba(119,84,20,.12);
  --shadow-md:0 14px 30px rgba(119,84,20,.10);
  --shadow-sm:0 6px 16px rgba(119,84,20,.10);
}

/* ---------- Base / reset ---------- */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color:var(--ink);
  /* faint workshop grid */
  background:
    linear-gradient(0deg, transparent 24px, var(--line) 25px, transparent 26px),
    linear-gradient(90deg, transparent 24px, var(--line) 25px, transparent 26px),
    var(--page);
  background-size:26px 26px,26px 26px,auto;
  display:flex;align-items:center;justify-content:center;
  padding:16px;
}

/* ---------- App shell ---------- */
.chat-container{
  width:100%; max-width:1100px; height:90vh;
  background:var(--shell);
  border:1px solid var(--line);
  border-radius:var(--r-xl);
  box-shadow:var(--shadow-lg);
  display:flex; flex-direction:column; position:relative; overflow:hidden;
}

/* ---------- TOP BAR (TEXT HEADER like mockup) ---------- */
.topbar, .logo-bar{  /* support either class name */
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 18px;
  background:var(--shell);
  border-bottom:1px solid var(--line);
}
.logo-wrapper{display:none} /* hide any old img logos */

.brand{
  font-size:24px; font-weight:800; letter-spacing:.2px;
}
.brand .strong{color:var(--accent); font-weight:900; margin-right:4px}
.topbar-right{
  display:flex; align-items:center; gap:10px;
}
.chip{
  font-weight:700; font-size:.9rem; color:var(--ink);
  background:var(--panel-2); border:1px solid var(--line);
  border-radius:999px; padding:6px 10px;
}

/* ---------- TAB ROW (Chat / Models / Map) ---------- */
.nav-tabs{
  display:flex; align-items:center; gap:24px;
  padding:10px 18px 0;
  background:var(--shell);
}
.nav-tabs .menu-btn{
  width:38px;height:30px;border-radius:10px;border:1px solid var(--line);
  background:var(--panel-2); position:relative;
}
.nav-tabs .menu-btn::before,
.nav-tabs .menu-btn::after{
  content:""; position:absolute; left:9px; right:9px; height:2px; background:#9c8e7a;
}
.nav-tabs .menu-btn::before{top:9px}
.nav-tabs .menu-btn::after{bottom:9px}

.tabs{
  display:flex; gap:16px; align-items:center;
}
.tab{
  color:var(--ink); text-decoration:none; font-weight:700;
  padding:8px 12px; border-radius:999px; position:relative;
}
.tab.active::after{
  content:""; position:absolute; left:12px; right:12px; bottom:-6px;
  height:3px; background:var(--accent); border-radius:3px;
}

/* ---------- MODE CARD (exact pill look) ---------- */
.mode-card, .toolbar, .top-controls{
  display:flex; align-items:center; gap:12px; flex-wrap:wrap;
  margin:14px 18px 0; padding:12px 14px;
  background:var(--panel);
  border:1px solid var(--line); border-radius:var(--r-lg);
  box-shadow:var(--shadow-sm);
}
.mode-label{color:var(--ink); font-weight:700}
.mode-select, .toolbar select{
  background:var(--panel-2); color:var(--ink);
  border:1px solid var(--line); border-radius:12px;
  padding:10px 12px; outline:none; appearance:none;
  transition:border-color .2s, box-shadow .2s;
}
.mode-select:focus{ border-color:var(--accent); box-shadow:0 0 0 3px rgba(201,42,36,.18) }

/* ---------- Forklift animation (CRISP, ON TOP) ---------- */
.forklift-animation{
  position:absolute; top:44%; left:0; width:100%;
  display:none; /* your JS toggles this on/off */
  transform:translateY(-50%); pointer-events:none; z-index:9;
}
.forklift-unit{position:absolute; left:0; transition:left 2s ease-in-out}
.forklift-img{
  width:240px; height:auto; opacity:1; /* crisp (no fade) */
  filter:drop-shadow(0 10px 22px rgba(0,0,0,.22));
}

/* ---------- Chat stage with faint forklift sketch ---------- */
.stage{
  position:relative; flex:1; margin:0 18px; border-radius:var(--r-lg);
  overflow:hidden;
}
.stage::after{
  /* faint forklift sketch watermark (optional) */
  content:""; position:absolute; inset:0;
  background:url("/static/forklift_heli.png") center 40%/33% no-repeat;
  opacity:.06; filter:grayscale(100%); pointer-events:none;
}

/* ---------- Chat bubbles & area ---------- */
.response-area{
  position:relative; z-index:1; /* above watermark */
  height:100%; padding:18px 4px 0; overflow-y:auto;
  display:flex; flex-direction:column; gap:14px;
  background:linear-gradient(180deg, transparent, var(--panel) 92%);
}
.response-bubble{
  max-width:78%;
  padding:14px 16px;
  border-radius:18px;
  line-height:1.6; white-space:pre-wrap; font-size:15px;
  border:1px solid var(--line);
  box-shadow:var(--shadow-sm);
  background:var(--bubble-ai);
}
.response-bubble.user{ align-self:flex-end; background:var(--bubble-user) }
.section-label{
  color:#7b4f1b; font-weight:800; display:block; margin-bottom:6px; letter-spacing:.25px;
}

/* ---------- Input row (rounded, shadow, Send pill) ---------- */
.input-form{
  display:flex; align-items:center; gap:10px;
  margin:10px 18px 18px; padding:14px;
  background:var(--panel); border:1px solid var(--line);
  border-radius:var(--r-lg); box-shadow:var(--shadow-md);
}
.input-form textarea{
  flex:1; min-height:64px; max-height:200px;
  padding:12px 14px; font-size:15px; border-radius:14px;
  background:var(--input); color:var(--ink);
  border:1px solid var(--line); outline:none; resize:vertical;
  transition:border-color .2s, box-shadow .2s;
}
.input-form textarea:focus{border-color:var(--accent); box-shadow:0 0 0 3px rgba(201,42,36,.16)}
.input-form button{
  padding:12px 22px; font-size:15px; font-weight:800; letter-spacing:.2px;
  color:#fff; background:linear-gradient(180deg,#e85a52,var(--accent));
  border:0; border-radius:999px; cursor:pointer;
  box-shadow:0 10px 28px rgba(201,42,36,.28);
  transition:filter .2s, transform .06s;
}
.input-form button:hover{filter:brightness(1.05)}
.input-form button:active{transform:translateY(1px)}

/* ---------- Footer ---------- */
.footer{
  text-align:center; padding:10px; font-size:12px; color:var(--muted);
  border-top:1px solid var(--line); background:var(--panel);
}

/* ---------- AI Sidebar / popup (kept light) ---------- */
.ai-sidebar{
  position:fixed; top:0; right:-420px; width:420px; height:100%;
  background:var(--shell); color:var(--ink);
  border-left:1px solid var(--line); box-shadow:-12px 0 30px rgba(119,84,20,.12);
  overflow-y:auto; z-index:999; transition:right .28s ease-in-out; padding:22px;
}
.ai-sidebar.visible{right:0}
.ai-sidebar-content{display:flex; flex-direction:column; gap:14px}
.close-ai-btn{background:var(--accent); color:#fff; font-size:22px; border:none; align-self:flex-end; cursor:pointer; padding:6px 12px; border-radius:12px; box-shadow:var(--shadow-sm)}

/* ---------- Responsive ---------- */
@media (max-width:767px){
  body{padding:12px}
  .chat-container{height:92vh; border-radius:20px}
  .brand{font-size:20px}
  .tabs{gap:12px}
  .stage{margin:0 12px}
  .input-form{margin:10px 12px 14px}
  .ai-sidebar{width:92vw}
}

/* ---------- Reduced motion ---------- */
@media (prefers-reduced-motion:reduce){
  *{animation-duration:.001ms!important; animation-iteration-count:1!important; transition-duration:.001ms!important; scroll-behavior:auto!important}
}
