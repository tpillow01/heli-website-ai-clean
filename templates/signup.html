<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sign up â€¢ Heli AI</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <!-- re-use the same inline styles as login (keep in one place if you prefer a base template) -->
  <style>
    /* copy the same :root, body.auth, .auth-card, etc. from login.html */
  </style>
</head>
<body class="auth">
  <div class="auth-card" role="dialog" aria-labelledby="title">
    <div class="auth-head">
      <img src="{{ url_for('static', filename='heli_logo.png') }}" alt="">
      <div class="auth-title" id="title">Create your account</div>
    </div>

    {% if error %}
      <div class="error">{{ error }}</div>
    {% endif %}

    <form class="auth-body" action="{{ url_for('signup') }}" method="POST" novalidate>
      <div class="field">
        <label for="email">Email</label>
        <div class="control">
          <input id="email" name="email" type="email" inputmode="email" autocomplete="email"
                 placeholder="you@company.com" value="{{ email|default('') }}" required />
        </div>
      </div>

      <div class="field">
        <label for="password">Password</label>
        <div class="control">
          <input id="password" name="password" type="password" autocomplete="new-password"
                 placeholder="Create a strong password" required />
          <span class="toggle" id="toggle-pass-1" aria-controls="password" aria-pressed="false">Show</span>
        </div>
      </div>

      <div class="field">
        <label for="confirm">Confirm password</label>
        <div class="control">
          <input id="confirm" name="confirm" type="password" autocomplete="new-password"
                 placeholder="Re-enter your password" required />
          <span class="toggle" id="toggle-pass-2" aria-controls="confirm" aria-pressed="false">Show</span>
        </div>
      </div>

      <div class="actions">
        <button class="btn" type="submit">Create account</button>
      </div>
    </form>

    <div class="footer">
      <span class="muted">Already have an account?</span>
      <a class="link" href="{{ url_for('login') }}">Log in</a>
    </div>
  </div>

  <script>
    const toggles = [
      ['toggle-pass-1', 'password'],
      ['toggle-pass-2', 'confirm']
    ];
    toggles.forEach(([btnId, inputId])=>{
      const b = document.getElementById(btnId);
      const i = document.getElementById(inputId);
      b?.addEventListener('click', ()=>{
        const show = i.type === 'password';
        i.type = show ? 'text' : 'password';
        b.textContent = show ? 'Hide' : 'Show';
        b.setAttribute('aria-pressed', String(show));
      });
    });
  </script>
</body>
</html>
